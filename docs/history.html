<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>計測履歴</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h2>計測履歴</h2>
<div id="historyList"></div>
<script>
async function loadHistory() {
    const res = await fetch("http://localhost:5001/api/history");
    const items = await res.json();
    const container = document.getElementById("historyList");
    container.innerHTML = "";
    items.forEach(item=>{
        const div = document.createElement("div");
        div.innerHTML = `
            <p>${item.time} - ${item.length_cm} cm</p>
            <img src="http://localhost:5001/image/${item.image.split("/").pop()}" width="200">
            <img src="http://localhost:5001/image/${item.overlay.split("/").pop()}" width="200">
            <hr>
        `;
        container.appendChild(div);
    });
}
loadHistory();
</script>
</body>
</html>
